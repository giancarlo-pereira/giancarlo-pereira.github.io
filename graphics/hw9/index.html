<body bgcolor=#ffffff>
    <center>
       <p>
        GIANCARLO PEREIRA HW9 -- CUBIC SPLINES
       </p>
       <p>
        Still figuring it out...
       </p>
       <canvas id='canvas' width=800 height=800></canvas>         
    </center>
</body>
 
<script src=lib.js></script>
<script>

window.addEventListener("keydown", e => {
    if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight',
    'Delete', 'ShiftRight', 'ShiftLeft', 'Tab', 'ControlRight',
    'ControlLeft', 'AltLeft', 'AltRight', 'CapsLock',
    'MetaLeft', 'MetaRight'].indexOf(e.code) >= 0)
        e.preventDefault();
    else if (['Space', 'Enter'].indexOf(e.code) >= 0) {
        e.preventDefault();
    }
    else if (['Backspace'].indexOf(e.code) >= 0) {
        e.preventDefault();
        for (let i = points.length - 1; i >= 0; i -= 1) {
            if (points[i].on()) points.splice(i,1);
        }
    }
    else if (['Escape'].indexOf(e.code) >= 0) {
        e.preventDefault();
        points.forEach(point => {
            point.unselect();
        })
    }
});

function drawFrame() {
    requestAnimationFrame(drawFrame);
    let t = Date.now() / 1000;

    let wallColor = [201/255,183/255,177/255];
    
    M.S().perspective(fl);
        //walls
        M.S().move(0, 0,-1.5*fl).scale(fl).turnY(   pi).draw(Square(), wallColor, 1,-1, -1).R();
        M.S().move(-2,0, -.5*fl).scale(fl).turnY(-pi/2).draw(Square(), wallColor, 1,-1, -1).R();
        M.S().move(+2,0, -.5*fl).scale(fl).turnY( pi/2).draw(Square(), wallColor, 1,-1, -1).R();

        //floor
        M.S().move(0,-2,  -.5*fl).scale(fl).turnX(pi/2).draw(Square(), wallColor, 1, -1, -1).R();

        points.forEach(point => {
            point.render();
        });

        // M.S().move(-.6, .3,0).turnY( t).scale(.2).draw(Tube(30)    , [1,1,1]   , 1,  0   ).R();
        // M.S().move(  0, .3,0).turnY( 0).scale(.2).draw(Sphere(30)  , [1,1,0]   , 1,      ).R();
        // M.S().move( .6, .3,0).turnY( t).scale(.2).draw(Cylinder(30), [1,1,1]   , 1,  0   ).R();
        // M.S().move(-.6,-.3,0).turnX(-t).scale(.2).draw(Cube()      , [1,1,1]   , 1,  1   ).R();
        // M.S().move( .6,-.3,0).turnY(-t).scale(.2).draw(Torus(30)   , [1,.5,.3] , 1, -1, 3).R();
        // M.S().move(  -.5,.5,0).turnX( t).scale(.2).draw(Cube()      , [1,1,1]   , 1,  2,-1).R();
        // M.S().move(0,.3,.5).turnY( t).scale(.2).draw(Square()      , [1,1,1]   , 1,  2,-1).R();
    M.R();
}
requestAnimationFrame(drawFrame);

</script>